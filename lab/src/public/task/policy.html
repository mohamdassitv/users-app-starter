<!DOCTYPE html><html><head><meta charset="utf-8"><title>Task 8 – Policy</title>
<link rel="stylesheet" href="/styles.css"></head><body><div class="container">
<div class="card"><h2>Task 8 – Policy & Rollback</h2>
<p>Block access to <code>/gateway/admin</code> while keeping <code>/gateway/ok</code> working.</p>
<ol>
  <li>POST to <code>/policy</code> with JSON body: <code>{ "deny": ["/admin"] }</code></li>
  <li>Verify: <code>/gateway/admin</code> → 403</li>
  <li>Rollback: POST <code>{ "deny": [] }</code> (optional)</li>
</ol>
<pre class="small">curl -X POST http://localhost:8081/policy -H "Content-Type: application/json" -d '{"deny":["/admin"]}'</pre>
</div>
<div class="card">
  <button onclick="check()">Check Policy</button>
  <pre id="out"></pre>
</div>
<script>
async function check(){
  const pol = await (await fetch('/policy')).json();
  document.getElementById('out').textContent = JSON.stringify(pol,null,2);
}
</script>
</body></html>
